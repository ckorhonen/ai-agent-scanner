import{x as m,n as e,y as n}from"./components-DxCnMdio.js";const h={A:"#22c55e",B:"#84cc16",C:"#eab308",D:"#f97316",F:"#ef4444"},i={usability:"Usability",webmcp:"WebMCP",semantic:"Semantic",structured:"Struct. Data",crawlability:"Crawlability",content:"Content"},x={usability:30,webmcp:25,semantic:20,structured:15,crawlability:5,content:5};function p({score:a,grade:l}){const s=h[l]??"#6b7280",t=a/100,r=44,c=2*Math.PI*r;return e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",children:[e.jsx("circle",{cx:"60",cy:"60",r,fill:"none",stroke:"#1f2937",strokeWidth:"10"}),e.jsx("circle",{cx:"60",cy:"60",r,fill:"none",stroke:s,strokeWidth:"10",strokeDasharray:c,strokeDashoffset:c*(1-t),strokeLinecap:"round",transform:"rotate(-90 60 60)"}),e.jsx("text",{x:"60",y:"55",textAnchor:"middle",fill:s,fontSize:"22",fontWeight:"bold",children:a}),e.jsx("text",{x:"60",y:"72",textAnchor:"middle",fill:"#6b7280",fontSize:"11",children:"/ 100"})]}),e.jsxs("span",{className:"text-xl font-bold",style:{color:s},children:["Grade ",l]})]})}function j({label:a,value:l,max:s}){const t=Math.round(l/s*100),r=t>=75?"#22c55e":t>=50?"#eab308":"#ef4444";return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-24 text-gray-400 shrink-0",children:a}),e.jsx("div",{className:"flex-1 bg-gray-800 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${t}%`,background:r}})}),e.jsxs("span",{className:"w-16 text-right text-gray-300",children:[l,e.jsxs("span",{className:"text-gray-600",children:["/",s]})]})]})}function u(){const{results:a,error:l}=m();return l||a.length===0?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-400 mb-4",children:l??"No results"}),e.jsx(n,{to:"/",className:"text-blue-400 hover:underline",children:"â† Back to scanner"})]})}):e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx(n,{to:"/",className:"text-gray-400 hover:text-white text-sm",children:"â† New scan"}),e.jsx("h1",{className:"text-xl font-bold",children:"Scan Results"}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(a[0].timestamp).toLocaleString()})]}),e.jsx("div",{className:`grid gap-6 ${a.length>1?"lg:grid-cols-2":"max-w-lg mx-auto"}`,children:a.map(s=>e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[e.jsx("p",{className:"text-sm text-gray-400 truncate mb-4",children:s.url}),s.error?e.jsx("p",{className:"text-red-400 text-sm",children:s.error}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(p,{score:s.overall,grade:s.grade})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Category breakdown"}),Object.entries(s.scores).map(([t,r])=>e.jsx(j,{label:i[t]??t,value:r,max:x[t]??10},t))]}),s.recommendations.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider mb-3",children:"Top recommendations"}),e.jsx("ul",{className:"space-y-3",children:s.recommendations.slice(0,3).map(t=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsxs("span",{className:"text-green-400 font-bold mt-0.5 shrink-0",children:["+",t.points]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:t.title}),e.jsx("p",{className:"text-gray-400 text-xs line-clamp-2",children:t.description})]})]},t.title))})]})]})]},s.url))}),a.length>1&&e.jsxs("div",{className:"mt-8 bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-800",children:e.jsx("h2",{className:"font-semibold",children:"Competitor Comparison"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-400 text-xs border-b border-gray-800",children:[e.jsx("th",{className:"text-left px-4 py-3",children:"Category"}),a.map(s=>e.jsx("th",{className:"text-left px-4 py-3 max-w-[140px] truncate",children:new URL(s.url).hostname},s.url))]})}),e.jsxs("tbody",{children:[Object.keys(a[0].scores).map(s=>{const t=a.map(c=>c.scores[s]),r=Math.max(...t);return e.jsxs("tr",{className:"border-b border-gray-800/50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:i[s]}),t.map((c,d)=>e.jsxs("td",{className:`px-4 py-3 font-medium ${c===r?"text-green-400":"text-gray-300"}`,children:[c,e.jsxs("span",{className:"text-gray-600",children:["/",x[s]]}),c===r&&t.filter(o=>o===r).length===1&&e.jsx("span",{className:"ml-1 text-xs",children:"ðŸ‘‘"})]},d))]},s)}),e.jsxs("tr",{className:"bg-gray-800/40",children:[e.jsx("td",{className:"px-4 py-3 font-semibold",children:"Overall"}),a.map(s=>{const t=s.overall===Math.max(...a.map(r=>r.overall));return e.jsxs("td",{className:`px-4 py-3 font-bold text-lg ${t?"text-green-400":"text-gray-300"}`,children:[s.overall,e.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-1",children:["(",s.grade,")"]})]},s.url)})]})]})]})})]})]})}export{u as default};
